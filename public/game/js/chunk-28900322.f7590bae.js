(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28900322"],{"5ad4":function(e,t,r){},"5daa":function(e,t,r){"use strict";var a=r("5ad4"),n=r.n(a);n.a},d9c5:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"container"},[r("div",{staticClass:"home__panel"},[r("img",{attrs:{src:"https://api.adorable.io/avatars/75/"+e.userData.avatarId}}),r("section",{staticClass:"home__roster"},e._l(e.currentTeam,(function(e,t){return r("div",{key:t,staticClass:"home__roster__picture"},[r("img",{attrs:{src:"/img/game/"+e.facepic+".jpg"}})])})),0),r("button",{staticClass:"home__btn",on:{click:e.joinRankedLobby}},[e._v("Start Game")]),r("button",{staticClass:"home__btn",on:{click:e.joinLobby}},[e._v("Join lobby")])]),r("router-view",{staticClass:"home__router"})],1)},n=[],s={},o=function(){return this.$store.getters["user/getUserData"]},c=function(){return this.$store.state.game.currentTeam},i=function(){return this.$store.state.game.room},u={userData:o,currentTeam:c,battleRoom:i},m=(r("a9e3"),r("96cf"),r("1da1")),l=function(){this.$router.push({name:"lobby"})},h=function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(3===this.currentTeam.length){e.next=3;break}return alert("You need exactly 3 characters to start a game!"),e.abrupt("return");case 3:return e.prev=3,e.next=6,this.$colyseus.joinOrCreate("rankedLobby",this.$store.getters["user/ranked"]);case 6:t=e.sent,t.onMessage("seat",function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.$colyseus.consumeSeatReservation(a);case 3:n=e.sent,r.$store.commit("game/setRoom",n),r.battleRoom.onMessage("joined",(function(e){2===Number(e)&&r.battleRoom.send("start-game-data",{team:r.currentTeam,player:r.$store.getters["user/getUserData"]})})),r.battleRoom.onMessage("game-started",(function(e){r.$store.commit("game/setGameState",e),r.$router.push({name:"ingame"})})),t.leave(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),console.error(e.t0);case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),b={joinLobby:l,joinRankedLobby:h},p={},d={components:s,computed:u,methods:b,watchers:p,mounted:function(){this.$store.commit("midori/setUpdate",{value:!0,index:2})}},g=d,f=(r("5daa"),r("2877")),v=Object(f["a"])(g,a,n,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-28900322.f7590bae.js.map