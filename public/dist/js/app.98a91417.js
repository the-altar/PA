(function(e){function t(t){for(var r,u,s=t[0],i=t[1],c=t[2],l=0,m=[];l<s.length;l++)u=s[l],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&m.push(o[u][0]),o[u]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(t);while(m.length)m.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,u=1;u<n.length;u++){var i=n[u];0!==o[i]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a=[];function u(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d0e26d8":"a4885cb7"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=u(e);var c=new Error;a=function(t){i.onerror=i.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,n[1](c)}o[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:i})}),12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var f=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=n("2b27"),a=n.n(o),u=n("f87c"),s=n("8055"),i=n.n(s),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view")},l=[],f={sockets:{startGame:function(e){this.$store.commit("ingame/SET_GAME",e),this.$router.push("/ingame")}}},m=f,p=n("2877"),g=Object(p["a"])(m,c,l,!1,null,null,null),d=g.exports,h=(n("d3b7"),n("8c4f")),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game"},[n("section",{staticClass:"game__nav"},[e._l(e.gameTeam,(function(e,t){return n("img",{key:t,attrs:{src:"/img/game/"+e.facepic+".jpg"}})})),n("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],attrs:{type:"text",placeholder:"username"},domProps:{value:e.user},on:{input:function(t){t.target.composing||(e.user=t.target.value)}}}),n("button",{on:{click:e.startGame}},[e._v("Start game")])],2),n("section",{staticClass:"game__main"},[n("CharCollection",{staticClass:"game__collection"})],1)])},E=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",e._l(e.roster,(function(t,r){return n("div",{key:r,staticClass:"game__char",on:{click:function(n){return e.selectThisCharacter(t)}}},[n("img",{attrs:{src:"/img/game/"+t.facepic+".jpg"}})])})),0)},T=[],y={computed:{roster:function(){return this.$store.getters["roster/getCharacters"]}},methods:{selectThisCharacter:function(e){this.$store.commit("roster/ADD__CHARACTER",e)}}},S=y,b=Object(p["a"])(S,v,T,!1,null,null,null),k=b.exports,C={components:{CharCollection:k},sockets:{yourCharacters:function(e){this.$store.commit("roster/SET_CHARACTERS",e)},charError:function(e){alert(e)}},data:function(){return{user:""}},computed:{gameTeam:function(){return this.$store.getters["roster/getGameTeam"]}},methods:{startGame:function(){var e={id:this.user,characters:this.$store.getters["roster/getGameTeamIds"]};this.$socket.client.emit("startGame",e)}},created:function(){this.$store.getters["roster/getCharacters"].length||this.$socket.client.emit("myCharacters")}},A=C,w=Object(p["a"])(A,_,E,!1,null,null,null),O=w.exports;r["a"].use(h["a"]);var L=[{path:"/",name:"Home",component:O},{path:"/ingame",name:"Ingame",component:function(){return n.e("chunk-2d0e26d8").then(n.bind(null,"7f3f"))}}],j=new h["a"]({mode:"history",base:"/",routes:L}),M=j,$=n("2f62"),R={characters:[],gameTeam:[],selected:{}},x=(n("d81d"),function(e){return e.characters}),G=function(e){return e.gameTeam},Q=function(e){return e.gameTeam.map((function(e){return e._id}))},P={getCharacters:x,getGameTeam:G,getGameTeamIds:Q},D=function(e,t){e.characters=t},I=function(e,t){e.gameTeam.length<3&&e.gameTeam.push(t)},U={SET_CHARACTERS:D,ADD__CHARACTER:I},F={namespaced:!0,state:R,getters:P,mutations:U},H={opponent:"",friends:{},foes:{},myturn:!1,targetEnemyStatus:!1,targetAllyStatus:!1,selectedSkill:{},skillQueue:[]},K=(n("4de4"),n("caad"),n("2532"),function(e){return e.friends}),N=function(e){return e.foes},Y=function(e){return e.myturn},J=function(e){return e.opponent},q=function(e){return e.targetEnemyStatus},V=function(e){return e.targetAllyStatus},z=function(e){return function(t){return e.foes[t].effectList}},B=function(e){return e.selectedSkill},W=function(e){return e.skillQueue},X=function(e){return function(t){return e.skillQueue.filter((function(e){for(var n in e.targets)if(e.targets[n].target.includes(t))return!0}))}},Z={getMyFoes:N,getMyFriends:K,getMyTurn:Y,getMyOpponent:J,getTargetEnemyStatus:q,getTargetAllyStatus:V,getEnemyCharacterEffectList:z,getSelectedSkill:B,getSkillQueue:W,getSkillQueueFilter:X},ee=(n("a434"),function(e,t){e.opponent=t.opponent,e.friends=t.friends,e.foes=t.foes,e.myturn=t.myturn}),te=function(e,t){e.targetEnemyStatus=t},ne=function(e,t){e.targetAllyStatus=t},re=function(e,t){e.selectedSkill=t},oe=function(e,t){e.foes[t.index].effectList.push(t.effect)},ae=function(e,t){e.skillQueue.push(t)},ue=function(e,t){e.skillQueue.splice(t,1)},se=function(e){e.skillQueue=[]},ie={SET_GAME:ee,SET_TARGET_ENEMY_STATUS:te,SET_TARGET_ALLY_STATUS:ne,SET_SELECTED_SKILL:re,ADD_ENEMY_EFFECT_LIST:oe,ADD_TO_SKILL_QUEUE:ae,REMOVE_FROM_SKILL_QUEUE:ue,RESET_SKILL_QUEUE:se},ce={namespaced:!0,state:H,getters:Z,mutations:ie};r["a"].use($["a"]);var le=new $["a"].Store({modules:{roster:F,ingame:ce}}),fe=(n("6418"),n("bf61"));r["a"].config.productionTip=!1,r["a"].use(a.a),r["a"].use(u["a"],i()("https://sa-gameserver.herokuapp.com"),{store:le}),r["a"].directive("on-click-outside",fe["directive"]),new r["a"]({router:M,store:le,render:function(e){return e(d)}}).$mount("#app")},6418:function(e,t,n){}});
//# sourceMappingURL=app.98a91417.js.map